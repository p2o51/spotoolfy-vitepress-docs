# 配置

本页面将指导您完成 Spotoolfy 的完整配置，包括必需的 API 配置和可选的高级设置。

## 必需配置

### 1. Spotify API 配置

Spotoolfy 需要 Spotify API 才能正常工作。请按照以下步骤获取您的 Spotify API 凭据：

#### 步骤 1：创建 Spotify 应用

1. 访问 [Spotify 开发者面板](https://developer.spotify.com/dashboard)
2. 使用您的 Spotify 账户登录
3. 点击 **"Create an App"**
4. 填写应用信息：
   - **App name**: `Spotoolfy` (或您喜欢的名称)
   - **App description**: `Personal Spotify client with lyrics and notes`
   - **Website**: 可以留空或填写您的网站
   - **Redirect URI**: `spotoolfy://callback`
5. 勾选同意条款，点击 **"Create"**

#### 步骤 2：获取 API 凭据

1. 在应用详情页面，点击 **"Settings"**
2. 复制 **Client ID** 和 **Client Secret**
3. 在 **Redirect URIs** 部分，确保已添加：`spotoolfy://callback`

#### 步骤 3：配置应用

1. 打开 Spotoolfy 应用
2. 进入 **设置** 页面
3. 在 **Spotify 配置** 部分：
   - 粘贴您的 **Client ID**
   - 粘贴您的 **Client Secret**
4. 点击 **保存**

### 2. Google Gemini API 配置（用于歌词翻译和AI洞察）

#### 步骤 1：获取 Google API Key

1. 访问 [Google AI Studio](https://makersuite.google.com/app/apikey)
2. 使用您的 Google 账户登录
3. 点击 **"Create API Key"**
4. 选择一个项目或创建新项目
5. 复制生成的 API Key

#### 步骤 2：在应用中配置

1. 在 Spotoolfy 设置页面
2. 找到 **AI 功能配置** 部分
3. 粘贴您的 **Gemini API Key**
4. 点击 **保存**

## 基本设置

### 语言设置

- **界面语言**: 支持中文（简体/繁体）、英语、日语
- **翻译目标语言**: 设置歌词翻译的目标语言

### 播放设置

- **音质偏好**: 根据网络状况选择音质
- **自动播放**: 启用/禁用自动播放下一首
- **交叉淡入淡出**: 设置歌曲之间的过渡效果

## 高级配置

### 歌词翻译设置

#### 翻译风格
- **忠实翻译 (Faithful)**: 准确直译，保持原意
- **诗意翻译 (Melodramatic Poet)**: 富有文学色彩的翻译
- **经典机翻 (Machine Classic)**: 传统机器翻译风格

#### 高级选项
- **启用思维链翻译**: 更详细的翻译推理过程
- **单行复制格式**: 复制歌词时合并为单行
- **启用洞察思维链**: AI 音乐洞察的详细分析过程

### 数据管理

#### 缓存设置
- **图片缓存大小**: 设置专辑封面缓存限制
- **歌词缓存**: 启用/禁用歌词本地缓存
- **自动清理**: 定期清理过期缓存

#### 数据同步
- **笔记备份**: 设置笔记的自动备份
- **设置同步**: 在设备间同步应用设置

### 网络设置

#### 代理配置
- **HTTP 代理**: 配置网络代理（如需要）
- **连接超时**: 设置网络请求超时时间
- **重试次数**: 网络失败时的重试次数

#### API 限制
- **请求频率**: 控制 API 请求频率以避免限制
- **并发连接**: 设置同时进行的网络连接数

### 开发者选项

#### 调试模式
- **启用日志**: 显示详细的应用日志
- **网络监控**: 监控网络请求和响应
- **性能统计**: 显示应用性能指标

#### 实验性功能
- **测试版功能**: 启用尚在测试的新功能
- **API 版本**: 选择使用的 Spotify API 版本

## 故障排除

### 常见配置问题

#### Spotify 连接失败
1. 检查 Client ID 和 Client Secret 是否正确
2. 确认 Redirect URI 设置为 `spotoolfy://callback`
3. 确保 Spotify Premium 账户（播放控制需要）

#### Gemini API 错误
1. 验证 API Key 是否有效
2. 检查 API 配额是否已用尽
3. 确认网络连接正常

#### 歌词无法加载
1. 检查网络连接
2. 尝试切换歌词源
3. 清除歌词缓存后重试

### 重置配置

如果遇到配置问题，您可以：

1. **重置单项设置**: 在对应设置页面点击重置
2. **清除所有设置**: 设置 → 高级 → 重置应用
3. **重新安装**: 完全卸载并重新安装应用

## 隐私和安全

### 数据存储
- 所有 API 密钥使用安全存储加密保存
- 用户数据仅存储在本地设备
- 不会上传个人信息到第三方服务器

### 权限管理
- **网络访问**: 连接 Spotify 和歌词服务
- **存储访问**: 保存笔记和缓存文件
- **麦克风**: 仅用于音频可视化（可选）

配置完成后，您就可以开始享受 Spotoolfy 的完整功能了！如有问题，请参考 [已知问题和Q&A](/advanced/faq) 页面。